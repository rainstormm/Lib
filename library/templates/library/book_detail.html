{% extends "library/base.html" %}
{% load staticfiles %}
{% block title %}Books{% endblock %}



{% block content %}

    {% if state %}
        <div class="col-md-4 col-md-offset-4">
            <div class="alert alert-warning">
                <a href="/login" class="close" data-dismiss="alert">&times;</a>
                {% if state == 'no_user' %}
                    <h2>Please Log in</h2>
                {% elif state == 'upper_limit' %}
                    <h2> The book you borrow reaches the limit</h2>
                {% elif state == 'success' %}
                    <h2>Borrow Successfully</h2>
                {% endif %}
            </div>
        </div>
    {% endif %}

    {% if book.quantity == 0 %}
        <div class="col-md-4 col-md-offset-4">
            <div class="alert alert-warning">
                <a href="/search/" class="close" data-dismiss="alert">&times;</a>
                    <h2> Sorry, all books are borrowed</h2>
            </div>
        </div>

    {% endif %}


    <div class="container myContainer">
        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <div class="col-md-5">
                    <div class="img-rounded">
                      <img src="/media/{{ book.cover }}" alt="{{ book.title }}">
                    </div>
                    <br><br><br>
                    <div class="col-md-5">
                        {% if book.quantity > 0 %}
                            <button class="btn btn-primary btn-lg">Borrow</button>
                        {% else %}
                            <button class="btn btn-primary btn-lg disabled">
                            Borrow
                            </button>
                        {% endif %}
                    </div>
                </div>
                <div class="col-md-6 col-md-offset-1">
                    <h2 class="text-center">{{ book.title }}</h2>
                    <br>
                    <h4>ISBN：{{ book.ISBN }}</h4>
                    <h4>Author：{{ book.author }}</h4>
                    <h4>Press:{{ book.press }}</h4>
                    <h4>Category：{{ book.category }}</h4>
                    <h4>Price：{{ book.price|floatformat:2 }}</h4>
                    <h4>Location:{{ book.location }}</h4>
                    <h4>Quantity：{{ book.quantity }}</h4>
                    <hr>
                    <p>Description:</p>
                    <P>{{ book.description }}</p>
                    <hr>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
